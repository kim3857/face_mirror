# 数据库面试指南

## 目录
- [MySQL优化与调优](#mysql优化与调优)
- [事务与锁机制](#事务与锁机制)
- [分库分表实践](#分库分表实践)

## MySQL优化与调优

### 1. 索引优化
- 索引类型
  - B+树索引
  - 哈希索引
  - 全文索引
- 索引设计
  - 最左前缀原则
  - 覆盖索引
  - 索引选择性
- 索引维护
  - 索引重建
  - 索引统计
  - 索引监控

### 2. SQL优化
- 执行计划
  - EXPLAIN分析
  - 优化器选择
  - 成本估算
- 查询优化
  - 连接优化
  - 子查询优化
  - 排序优化
- 慢查询分析
  - 慢查询日志
  - 性能分析
  - 优化建议

### 3. 配置优化
- 内存配置
  - 缓冲池
  - 排序缓冲区
  - 连接缓冲区
- 连接配置
  - 最大连接数
  - 超时设置
  - 连接池配置
- 存储引擎
  - InnoDB配置
  - MyISAM配置
  - 引擎选择

## 事务与锁机制

### 1. 事务特性
- ACID特性
  - 原子性
  - 一致性
  - 隔离性
  - 持久性
- 事务隔离级别
  - 读未提交
  - 读已提交
  - 可重复读
  - 串行化

### 2. 锁机制
- 锁类型
  - 共享锁
  - 排他锁
  - 意向锁
- 锁粒度
  - 表锁
  - 行锁
  - 页锁
- 死锁处理
  - 死锁检测
  - 死锁预防
  - 死锁恢复

### 3. MVCC机制
- 版本链
- 可见性判断
- 快照读
- 当前读

## 分库分表实践

### 1. 分片策略
- 水平分片
  - 范围分片
  - 哈希分片
  - 时间分片
- 垂直分片
  - 业务拆分
  - 字段拆分
  - 表拆分

### 2. 分片实现
- 分片键选择
- 路由规则
- 数据迁移
- 扩容方案

### 3. 中间件选型
- ShardingSphere
  - 功能特性
  - 配置方式
  - 性能优化
- MyCat
  - 架构设计
  - 使用方式
  - 运维管理

## 面试常见问题

### 1. 优化相关
- 如何优化慢查询？
- 如何设计高性能索引？
- 如何优化数据库配置？

### 2. 事务相关
- 事务隔离级别有哪些？
- 如何避免死锁？
- MVCC的实现原理？

### 3. 分库分表相关
- 分库分表的策略有哪些？
- 如何选择分片键？
- 如何处理跨库查询？

## 面试技巧

### 1. 答题策略
- 从原理角度分析
- 结合实际案例
- 展示优化思路

### 2. 注意事项
- 注意回答的深度
- 保持逻辑清晰
- 适当举例说明

## 参考资料
- 《高性能MySQL》
- 《MySQL技术内幕》
- 《数据库系统概念》 